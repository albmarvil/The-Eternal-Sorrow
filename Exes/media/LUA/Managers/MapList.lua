--author: César Manuel Paz Gumán

MapList = 
{

	{nombre = "HITO4", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cavern", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cavern2", peso = 1000, pesoAcumulado = 0},
	{nombre = "HabitacionTesoro", peso = 1000, pesoAcumulado = 0},

	{nombre = "Barbara1", peso = 900, pesoAcumulado = 0},--Menos peso por ser mas complejos
	{nombre = "Barbara2", peso = 700, pesoAcumulado = 0},

	{nombre = "Cesar1", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar2", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar3", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar4", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar5", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar6", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar7", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar8", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar9", peso = 1000, pesoAcumulado = 0},
	{nombre = "Cesar10", peso = 1000, pesoAcumulado = 0},


	{nombre = "Edu1", peso = 1000, pesoAcumulado = 0},
	{nombre = "Edu2", peso = 1000, pesoAcumulado = 0},
	{nombre = "Edu3", peso = 1000, pesoAcumulado = 0},
	{nombre = "Edu4", peso = 1000, pesoAcumulado = 0},

	{nombre = "Alb1", peso = 1000, pesoAcumulado = 0},
	{nombre = "Alb3", peso = 1000, pesoAcumulado = 0},

}

MapasPorReto = 
{
	Barbara1 = {
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},
	Barbara2 = {
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},


	Cesar1 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},
	Cesar2 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar3 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar4 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar5 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar6 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar7 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar8 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar9 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},

	Cesar10 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
	},


	HITO4 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},

	Cavern = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},
	Cavern2 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},



	Edu1 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},

	Edu2 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},


	Edu3 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},


	Edu4 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},


	Alb1 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 30, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 20, peso_total = 0},
	},

	Alb3 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
		{nombre_archivo = "RetoTiempo.lua", peso = 10, peso_total = 0},
		{nombre_archivo = "RetoAltar.lua", peso = 10, peso_total = 0},
	},
	

	HabitacionTesoro = 
	{
		{nombre_archivo = "RetoHabitacionTesoro.lua", peso = 80, peso_total = 0},
	},
	

	GL001 = 
	{
		{nombre_archivo = "RetoA.lua", peso = 20, peso_total = 0},
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
	},
	GL002 = 
	{
		{nombre_archivo = "RetoPuerta.lua", peso = 80, peso_total = 0},
	},
}

FuncionesMapList = {}
FuncionesMapList.currentMap = ""


function FuncionesMapList.sumarPesos()
	local sumaTotal = 0
	for key,value in pairs(MapList) do
		sumaTotal = sumaTotal + value.peso
		value.pesoAcumulado = sumaTotal
	end
	return sumaTotal
end

function FuncionesMapList.escogerMapa()
	local rnd = Random(FuncionesMapList.sumarPesos())
	for key,value in pairs(MapList) do
		if value.pesoAcumulado >= rnd then
			FuncionesMapList.currentMap	= value.nombre
			return value.nombre
		end
	end
end
